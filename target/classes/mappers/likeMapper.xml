<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.itwillbs.mappers.likeMapper">
  
	  	<select id="getBoardList" resultType="com.itwillbs.domain.RecipeBoardDTO">
			select l.id, r.subject, r.member_id, r.img, r.ingredient,
			r.content, r.readcount, r.like_count, r.date
			from recipe_board r join like_list l
			where l.member_id=#{member_id} and r.id = l.recipe_board_id
			order by l.id desc
	  	</select>
  
  
	  	<select id="getBoardCount" resultType="java.lang.Integer">
			select count(*) from like_list
			where member_id=#{member_id}
		</select>
  
  		<delete id="deleteBoard">
  			delete from like_list
  			where id=#{id}
  		</delete>
  		
  		<select id="getBoard" resultType="com.itwillbs.domain.LikeDTO">
  			select * from like_list
  			where member_id=#{member_id}
  		</select>
  		
  		<select id="getBoardListSearch" resultType="com.itwillbs.domain.RecipeBoardDTO">
  			select l.id, r.subject, r.member_id, r.img, r.ingredient,
  			r.content, r.readcount, r.like_count, r.date
			from recipe_board r 
			join like_list l
			where r.id = l.recipe_board_id
			and l.member_id=#{member_id}
			and r.subject like #{like_search}
			order by l.id desc;
  		</select>
  
  </mapper>